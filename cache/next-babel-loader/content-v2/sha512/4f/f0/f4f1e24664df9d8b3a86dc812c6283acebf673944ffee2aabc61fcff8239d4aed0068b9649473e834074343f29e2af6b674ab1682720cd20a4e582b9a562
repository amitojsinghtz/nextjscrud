{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { Link } from 'components';\nimport { userService } from 'services';\nexport default Index;\n\nfunction Index() {\n  var _useState = useState(null),\n      users = _useState[0],\n      setUsers = _useState[1];\n\n  useEffect(function () {\n    userService.getAll().then(function (x) {\n      return setUsers(x);\n    });\n  }, []);\n\n  function deleteUser(id) {\n    setUsers(users.map(function (x) {\n      if (x.id === id) {\n        x.isDeleting = true;\n      }\n\n      return x;\n    }));\n    userService[\"delete\"](id).then(function () {\n      setUsers(function (users) {\n        return users.filter(function (x) {\n          return x.id !== id;\n        });\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      children: \"Users\"\n    }), /*#__PURE__*/_jsx(Link, {\n      href: \"/users/add\",\n      className: \"btn btn-sm btn-success mb-2\",\n      children: \"Add User\"\n    }), /*#__PURE__*/_jsxs(\"table\", {\n      className: \"table table-striped\",\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            style: {\n              width: '30%'\n            },\n            children: \"Name\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            style: {\n              width: '30%'\n            },\n            children: \"Email\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            style: {\n              width: '30%'\n            },\n            children: \"Role\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            style: {\n              width: '10%'\n            }\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"tbody\", {\n        children: [users && users.map(function (user) {\n          return /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsxs(\"td\", {\n              children: [user.title, \" \", user.firstName, \" \", user.lastName]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: user.email\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: user.role\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              style: {\n                whiteSpace: 'nowrap'\n              },\n              children: [/*#__PURE__*/_jsx(Link, {\n                href: \"/users/edit/\".concat(user.id),\n                className: \"btn btn-sm btn-primary mr-1\",\n                children: \"Edit\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: function onClick() {\n                  return deleteUser(user.id);\n                },\n                className: \"btn btn-sm btn-danger btn-delete-user\",\n                disabled: user.isDeleting,\n                children: user.isDeleting ? /*#__PURE__*/_jsx(\"span\", {\n                  className: \"spinner-border spinner-border-sm\"\n                }) : /*#__PURE__*/_jsx(\"span\", {\n                  children: \"Delete\"\n                })\n              })]\n            })]\n          }, user.id);\n        }), !users && /*#__PURE__*/_jsx(\"tr\", {\n          children: /*#__PURE__*/_jsx(\"td\", {\n            colSpan: \"4\",\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"spinner-border spinner-border-lg align-center\"\n            })\n          })\n        }), users && !users.length && /*#__PURE__*/_jsx(\"tr\", {\n          children: /*#__PURE__*/_jsx(\"td\", {\n            colSpan: \"4\",\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"p-2\",\n              children: \"No Users To Display\"\n            })\n          })\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}