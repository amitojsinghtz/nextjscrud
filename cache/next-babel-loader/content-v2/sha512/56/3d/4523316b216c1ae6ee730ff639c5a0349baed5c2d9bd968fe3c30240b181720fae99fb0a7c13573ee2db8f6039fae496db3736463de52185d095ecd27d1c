{"ast":null,"code":"import { usersRepo } from 'helpers';\nexport default handler;\n\nfunction handler(req, res) {\n  switch (req.method) {\n    case 'GET':\n      return getUsers();\n\n    case 'POST':\n      return createUser();\n\n    default:\n      return res.status(405).end(`Method ${req.method} Not Allowed`);\n  }\n\n  function getUsers() {\n    const users = usersRepo.getAll();\n    return res.status(200).json(users);\n  }\n\n  function createUser() {\n    try {\n      usersRepo.create(req.body);\n      return res.status(200).json({});\n    } catch (error) {\n      return res.status(400).json({\n        message: error\n      });\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"module"}